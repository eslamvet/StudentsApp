import{e as G,i as R,j as A}from"./chunk-J6T6HKGX.js";import{a as S}from"./chunk-36XSNUV7.js";import{$a as $,Da as D,Ha as z,I as E,Ja as d,La as H,Ma as V,Na as L,Oa as _,Pa as w,Qa as a,Ra as o,S as b,Sa as p,Ta as y,Ua as f,Va as g,W as F,X as m,Za as c,_a as u,ab as h,cb as B,da as x,db as j,ea as v,fa as C,ga as U,k as P,ma as I,o as T,sa as O,u as M,va as l,w as k}from"./chunk-7UHN6PML.js";var Q=i=>["/students",i],q=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=m({type:t,selectors:[["app-user-card"]],inputs:{user:"user"},standalone:!0,features:[h],decls:9,vars:6,consts:[[1,"flex","justify-between","gap-x-6","p-5","mb-5","shadow-md","cursor-pointer",3,"routerLink"],[1,"flex","min-w-0","gap-x-4"],["alt","",1,"h-12","w-12","flex-none","rounded-full","bg-gray-50",3,"src"],[1,"min-w-0","flex-auto"],[1,"text-sm","font-semibold","leading-6","text-gray-900"],[1,"mt-1","truncate","text-xs","leading-5","text-gray-500"],[1,"hidden","shrink-0","sm:flex","sm:flex-col","sm:items-end"]],template:function(r,e){r&1&&(a(0,"a",0)(1,"div",1),p(2,"img",2),a(3,"div",3)(4,"p",4),c(5),o(),a(6,"p",5),c(7),o()()(),p(8,"div",6),o()),r&2&&(d("routerLink",B(4,Q,e.user.id)),l(2),d("src",e.user.avatar,O),l(3),u(e.user.first_name+" "+e.user.last_name),l(2),u(e.user.email))},dependencies:[R,G],changeDetection:0});let i=t;return i})();var W=(i,t)=>({inactive:i,active:t});function X(i,t){if(i&1){let s=y();a(0,"a",8),f("click",function(){let r=x(s).$implicit,e=g();return v(e.goToPage(r))}),c(1),o()}if(i&2){let s=t.$implicit,n=g();H(j(3,W,n.currentPage!==s,n.currentPage==s)),l(),u(s)}}var J=(()=>{let t=class t{constructor(){this.paginate=new I}goToPage(n){this.paginate.emit(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=m({type:t,selectors:[["app-paginator"]],inputs:{totalPages:[F.HasDecoratorInputTransform,"totalPages","totalPages",n=>Array.from({length:n},(r,e)=>e+1)],currentPage:"currentPage"},outputs:{paginate:"paginate"},standalone:!0,features:[D,h],decls:13,vars:0,consts:[["aria-label","Pagination",1,"isolate","inline-flex","-space-x-px","rounded-md","shadow-sm"],[1,"relative","inline-flex","items-center","rounded-l-md","px-2","py-2","text-gray-400","ring-1","ring-inset","ring-gray-300","hover:bg-gray-50","focus:z-20","focus:outline-offset-0",3,"click"],[1,"sr-only"],["viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5"],["fill-rule","evenodd","d","M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z","clip-rule","evenodd"],["aria-current","page",1,"relative","inline-flex","items-center","px-4","py-2","text-sm","font-semibold",3,"class"],[1,"relative","inline-flex","items-center","rounded-r-md","px-2","py-2","text-gray-400","ring-1","ring-inset","ring-gray-300","hover:bg-gray-50","focus:z-20","focus:outline-offset-0",3,"click"],["fill-rule","evenodd","d","M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z","clip-rule","evenodd"],["aria-current","page",1,"relative","inline-flex","items-center","px-4","py-2","text-sm","font-semibold",3,"click"]],template:function(r,e){r&1&&(a(0,"nav",0)(1,"a",1),f("click",function(){return e.currentPage>1&&e.goToPage(e.currentPage-1)}),a(2,"span",2),c(3,"Previous"),o(),C(),a(4,"svg",3),p(5,"path",4),o()(),_(6,X,2,6,"a",5,L),U(),a(8,"a",6),f("click",function(){return e.currentPage<e.totalPages.length&&e.goToPage(e.currentPage+1)}),a(9,"span",2),c(10,"Next"),o(),C(),a(11,"svg",3),p(12,"path",7),o()()()),r&2&&(l(6),w(e.totalPages))},styles:[".active[_ngcontent-%COMP%]{pointer-events:none;z-index:10;--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity));font-size:.875rem;line-height:1.25rem;font-weight:600;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.active[_ngcontent-%COMP%]:focus{z-index:20}.active[_ngcontent-%COMP%]:focus-visible{outline-style:solid;outline-width:2px;outline-offset:2px;outline-color:#1f2937}.inactive[_ngcontent-%COMP%]{cursor:pointer;--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity));--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-inset: inset;--tw-ring-opacity: 1;--tw-ring-color: rgb(209 213 219 / var(--tw-ring-opacity)) }.inactive[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}.inactive[_ngcontent-%COMP%]:focus{z-index:20;outline-offset:0px}"],changeDetection:0});let i=t;return i})();var Y=(i,t)=>t.id;function Z(i,t){if(i&1&&p(0,"app-user-card",3),i&2){let s=t.$implicit;d("user",s)}}function ee(i,t){if(i&1){let s=y();a(0,"div",2),_(1,Z,1,1,"app-user-card",3,Y),o(),a(3,"app-paginator",4),f("paginate",function(r){x(s);let e=g();return v(e.getUsers(r))}),o()}if(i&2){let s=g();l(),w(s.users),l(2),d("totalPages",s.totalPages)("currentPage",s.currentPage)}}function te(i,t){if(i&1&&(a(0,"p",5),c(1),o()),i&2){let s=g();l(),u(s.error)}}var ve=(()=>{let t=class t{constructor(){this.userSer=b(S),this.searchTextObs$=b(A).searchTextObs$,this.currentPage=1,this.error=""}ngOnInit(){this.getUsers(1),this.searchTextObs$.pipe(E(n=>{if(n){let r=this.users?.find(e=>e.id==n);return M(()=>!!r,P({data:r,message:""}),this.userSer.getUserById(n).pipe(k(e=>P({data:{},message:e.message.includes("404")?"There is no user with this id":e.message})))).pipe(T(e=>({data:[e.data],total_pages:1,page:1,message:e.message})))}else return this.userSer.getUsersByPage(1)})).subscribe(this.getUsersSubscribeHandler())}getUsers(n){this.userSer.getUsersByPage(n).subscribe(this.getUsersSubscribeHandler())}getUsersSubscribeHandler(){return{next:n=>{n.message?(this.error=n.message,this.users&&(this.users=null)):(this.error&&(this.error=""),this.users=n.data,this.totalPages=n.total_pages,this.currentPage=n.page)},error:n=>{this.error=n.message,this.users&&(this.users=null)}}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=m({type:t,selectors:[["app-home"]],standalone:!0,features:[$([S]),h],decls:5,vars:1,consts:[[1,"lg:w-1/2","mx-auto","text-center"],[1,"text-4xl","font-bold","mb-5","underline"],[1,"mb-12"],[3,"user"],[3,"paginate","totalPages","currentPage"],[1,"p-5","bg-red-500","text-white"]],template:function(r,e){r&1&&(a(0,"section",0)(1,"h2",1),c(2,"List Of Users"),o(),z(3,ee,4,2)(4,te,2,1),o()),r&2&&(l(3),V(3,e.users?3:e.error?4:-1))},dependencies:[q,J]});let i=t;return i})();export{ve as HomeComponent};
